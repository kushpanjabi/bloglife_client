{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kushpanjabi/Desktop/proj/CAPSTONE-ONE/blog-heroku/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/kushpanjabi/Desktop/proj/CAPSTONE-ONE/blog-heroku/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/kushpanjabi/Desktop/proj/CAPSTONE-ONE/blog-heroku/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState,useEffect}from'react';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import'./ListBlogs.css';var ListBlogs=function ListBlogs(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),blogs=_useState2[0],setBlogs=_useState2[1];// delete Blog function\nfunction deleteBlog(_x){return _deleteBlog.apply(this,arguments);}function _deleteBlog(){_deleteBlog=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"/blogs/\".concat(id),{method:\"DELETE\"});case 3:setBlogs(blogs.filter(function(blog){return blog.blog_id!==id;}));_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);console.error(_context.t0.message);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));return _deleteBlog.apply(this,arguments);}function getBlogs(){return _getBlogs.apply(this,arguments);}function _getBlogs(){_getBlogs=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res,blogArray;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"/blogs\");case 2:res=_context2.sent;_context2.next=5;return res.json();case 5:blogArray=_context2.sent;setBlogs(blogArray);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return _getBlogs.apply(this,arguments);}useEffect(function(){getBlogs();},[]);console.log(blogs);return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",null,blogs.map(function(blog){return/*#__PURE__*/React.createElement(\"div\",{className:\"list\"},/*#__PURE__*/React.createElement(\"p\",null,blog.description),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(FontAwesomeIcon,{className:\"faicons\",icon:\"trash\",onClick:function onClick(){return deleteBlog(blog.blog_id);}})));})));};export default ListBlogs;","map":{"version":3,"sources":["/Users/kushpanjabi/Desktop/proj/CAPSTONE-ONE/blog-heroku/client/src/components/ListBlogs.js"],"names":["React","Fragment","useState","useEffect","FontAwesomeIcon","ListBlogs","blogs","setBlogs","deleteBlog","id","fetch","method","filter","blog","blog_id","console","error","message","getBlogs","res","json","blogArray","log","map","description"],"mappings":"+hBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,QAA1B,CAAoCC,SAApC,KAAqD,OAArD,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,MAAO,iBAAP,CAGA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,eAEMH,QAAQ,CAAC,EAAD,CAFd,wCAEbI,KAFa,eAENC,QAFM,eAIpB;AAJoB,QAMLC,CAAAA,UANK,0IAMpB,iBAA0BC,EAA1B,wJAEcC,CAAAA,KAAK,kBAAWD,EAAX,EAAiB,CACxBE,MAAM,CAAE,QADgB,CAAjB,CAFnB,QAMQJ,QAAQ,CAACD,KAAK,CAACM,MAAN,CAAa,SAAAC,IAAI,QAAIA,CAAAA,IAAI,CAACC,OAAL,GAAiBL,EAArB,EAAjB,CAAD,CAAR,CANR,8EAQQM,OAAO,CAACC,KAAR,CAAc,YAAIC,OAAlB,EARR,mEANoB,qDAkBLC,CAAAA,QAlBK,kIAkBpB,iLACsBR,CAAAA,KAAK,CAAC,QAAD,CAD3B,QACUS,GADV,uCAG4BA,CAAAA,GAAG,CAACC,IAAJ,EAH5B,QAGUC,SAHV,gBAKId,QAAQ,CAACc,SAAD,CAAR,CALJ,wDAlBoB,2CA0BpBlB,SAAS,CAAC,UAAM,CACZe,QAAQ,GACX,CAFQ,CAEN,EAFM,CAAT,CAIAH,OAAO,CAACO,GAAR,CAAYhB,KAAZ,EAEA,mBACI,oBAAC,QAAD,mBACI,+BACKA,KAAK,CAACiB,GAAN,CAAU,SAAAV,IAAI,qBACf,2BAAK,SAAS,CAAC,MAAf,eACI,6BAAIA,IAAI,CAACW,WAAT,CADJ,cAEI,6CACI,oBAAC,eAAD,EAAiB,SAAS,CAAC,SAA3B,CAAqC,IAAI,CAAC,OAA1C,CAAkD,OAAO,CAAE,yBAAMhB,CAAAA,UAAU,CAACK,IAAI,CAACC,OAAN,CAAhB,EAA3D,EADJ,CAFJ,CADe,EAAd,CADL,CADJ,CADJ,CAeH,CA/CD,CAiDA,cAAeT,CAAAA,SAAf","sourcesContent":["import React, { Fragment, useState, useEffect } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport './ListBlogs.css';\n \n\nconst ListBlogs = () => {\n\n    const [blogs, setBlogs] = useState([]);\n\n    // delete Blog function\n\n    async function deleteBlog(id) {\n        try {\n            await fetch(`/blogs/${id}`, {\n                method: \"DELETE\",\n            });\n\n            setBlogs(blogs.filter(blog => blog.blog_id !== id));\n        } catch (err) {\n            console.error(err.message);\n        }\n    }\n\n    async function getBlogs() {\n        const res = await fetch(\"/blogs\");\n        \n        const blogArray = await res.json();\n\n        setBlogs(blogArray);\n    }\n\n    useEffect(() => {\n        getBlogs();\n    }, []);\n\n    console.log(blogs);\n\n    return (\n        <Fragment>\n            <div>\n                {blogs.map(blog => (\n                <div className=\"list\">\n                    <p>{blog.description}</p>\n                    <span>\n                        <FontAwesomeIcon className=\"faicons\" icon='trash' onClick={() => deleteBlog(blog.blog_id)} />\n                    </span>\n                 </div>\n                ))}\n                \n            </div>\n        </Fragment>\n    )\n};\n\nexport default ListBlogs;"]},"metadata":{},"sourceType":"module"}